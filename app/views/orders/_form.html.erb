<%= form_with url: start_payment_path, method: :post, local: true do |form| %>
  <div class="form-group">
    <%= form.label :address_line1, "Address Line 1" %>
    <%= form.text_field :address_line1, class: "form-control", required: true %>
  </div>

  <div class="form-group">
    <%= form.label :address_line2, "Address Line 2 (Optional)" %>
    <%= form.text_field :address_line2, class: "form-control" %>
  </div>

  <div class="form-group">
    <%= form.label :city %>
    <%= form.text_field :city, class: "form-control", required: true %>
  </div>

  <div class="form-group">
    <%= form.label :province_id, "Province" %>
      <%= form.collection_select :province_id, Province.all, :id, :name,
    { selected: @province_id },
    {
      class: "form-control",
      required: true,
      data: {
        controller: "autosubmit",
        action: "change->autosubmit#submit"
      }
    } %>


  </div>

  <div class="form-group">
    <%= form.label :postal_code %>
    <%= form.text_field :postal_code, class: "form-control", required: true %>
  </div>
  <!-- HIDDEN FIELDS for pricing and tax -->
  <%= form.hidden_field :subtotal %>
  <%= form.hidden_field :gst_amount %>
  <%= form.hidden_field :pst_amount %>
  <%= form.hidden_field :hst_amount %>
  <%= form.hidden_field :tax_total %>
  <%= form.hidden_field :total_price %>
  <%= form.hidden_field :order_status, value: "pending" %>
<% end %>

